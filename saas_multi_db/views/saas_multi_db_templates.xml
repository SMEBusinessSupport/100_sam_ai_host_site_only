<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        <record id="monthly_invoice" model="mail.template">
            <field name="name">Saas User Monthly Invoice</field>
            <field name="model_id" ref="model_saas_database"></field>
            <field name="email_from">${(user.email)|safe}</field>
            <field name="email_to">${(object.partner_id.email)|safe}</field>
            <field name="subject">${object.name} System Invoice</field>
            <field name="body_html"><![CDATA[
                <p>Dear ${object.partner_id.name},</p>
                <p>Attached is a invoice for the monthly cost of your system</p>
                <p>Failing to pay your invoice within the next 2 weeks will result in your system being taken down</p>
            ]]>
            </field>
        </record>
        
        <template id="saas_submit" name="Enter Package Details">
            <t t-call="website.layout">
              <div id="wrap" class="oe_structure oe_empty">
                  <section>
                    <div class="container">
                      <div class="row">
                        <div class="col-md-12">
                          <h1 class="text-center">Enter Details</h1>
                        </div>
                      </div>
                    </div>
                  </section>
                    <div class="col-md-8">
                    <form action="/saas/createdb" method="GET" class="form-horizontal mt32" enctype="multipart/form-data">
                        <div t-attf-class="form-group">
                            <label class="col-md-3 col-sm-4 control-label" for="firstname">First Name</label>
                            <div class="col-md-7 col-sm-8">
                                <input type="text" class="form-control" name="firstname" required="True"/>
                            </div>
                        </div>

                        <div t-attf-class="form-group">
                            <label class="col-md-3 col-sm-4 control-label" for="lastname">Last Name</label>
                            <div class="col-md-7 col-sm-8">
                                <input type="text" class="form-control" name="lastname" required="True"/>
                            </div>
                        </div>
        
                        <div name="email_from_container" t-attf-class="form-group">
                            <label class="col-md-3 col-sm-4 control-label" for="email">Email</label>
                            <div class="col-md-7 col-sm-8">
                                <input type="email" class="form-control" name="email" required="True"/>
                            </div>
                        </div>

                        <div t-attf-class="form-group">
                            <label class="col-md-3 col-sm-4 control-label" for="mobile">Mobile</label>
                            <div class="col-md-7 col-sm-8">
                                <input type="text" class="form-control" name="mobile" required="True"/>
                            </div>
                        </div>
<!--
                        <div t-attf-class="form-group">
                            <label class="col-md-3 col-sm-4 control-label" for="street2">Street</label>
                            <div class="col-md-7 col-sm-8">
                                <input type="text" class="form-control" name="street2" required="True"/>
                            </div>
                        </div>

                        <div t-attf-class="form-group">
                            <label class="col-md-3 col-sm-4 control-label" for="city">City</label>
                            <div class="col-md-7 col-sm-8">
                                <input type="text" class="form-control" name="city" required="True"/>
                            </div>
                        </div>

                        <div t-attf-class="form-group">
                            <label class="col-md-3 col-sm-4 control-label" for="zip">Zip / Postal Code</label>
                            <div class="col-md-7 col-sm-8">
                                <input type="text" class="form-control" name="zip" required="True"/>
                            </div>
                        </div>
-->
                 <div t-attf-class="form-group">
                      <label class="col-md-3 col-sm-4 control-label" for="country_id">Country</label>
                      <div class="col-md-7 col-sm-8">
                          <select name="country_id" class="form-control">
                              <option value="">Country...</option>
                              <t t-foreach="countries or []" t-as="country">
                                  <option t-att-value="country.id"><t t-esc="country.name"/></option>
                              </t>
                          </select>
                      </div>
                  </div>
                        
                        <div t-attf-class="form-group">
                            <label class="col-md-3 col-sm-4 control-label" for="system_name">System Name</label>
                            <div class="col-md-7 col-sm-8">
                                <input type="text" class="form-control col-md-10" name="system_name" placeholder="systemname" required="True"/>.successmadeeasier.com
                            </div>
                        </div>
        
                        <div t-attf-class="form-group">
                            <label class="col-md-3 col-sm-4 control-label" for="password">Password</label>
                            <div class="col-md-7 col-sm-8">
                                <input type="password" class="form-control" name="password" required="True"/>
                            </div>
                        </div>

                        <div t-attf-class="form-group">
                            <label class="col-md-3 col-sm-4 control-label" for="ref_email">Ref Email</label>
                            <div class="col-md-7 col-sm-8">
                                <input type="text" class="form-control" name="ref_email"/>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <div class="col-md-offset-3 col-sm-offset-4 col-sm-8 col-md-7">
                                <input type="hidden" name="package" t-attf-value="#{template_database.id}"/>
                                <button class="btn btn-primary btn-lg">Try Now</button>
                            </div>
                        </div>
                    </form>
                    </div>
                    <div class="col-md-4">
                        <img t-att-src="website.image_url(template_database, 'image')" class="img-rounded mb8" t-attf-alt="#{template_database.name}" width="150" height="150"/><br/>
                        <h3 t-field="template_database.name"></h3>
                        <span><t t-esc="template_database.description"/></span><br/>
                        <span>$<t t-esc="template_database.monthly_price"/> / 30 days</span>
                    </div>                
                </div>
            </t>
        </template>

<template id="saas_choose_package" name="Select Package">
    <t t-call="website.layout">
      <div id="wrap" class="oe_structure oe_empty">
      <section>
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <h1 class="text-center">Select a Package</h1>
            </div>
          </div>
        
        
           <div class="mt16 mb16 col-md-12">
                <t t-foreach="template_databases" t-as="template_database">
                    <div class="col-md-4" style="min-height:500px;">
                        <h2 t-field="template_database.name"></h2>
                        <img t-att-src="website.image_url(template_database, 'image')" class="img-rounded mb8" t-attf-alt="#{template_database.name}" width="150" height="150"/><br/>
                                
                        <p t-field="template_database.description"></p>
                        <div style="float:right;">
                            <form method="GET" action="/try/details">
                                <input type="hidden" name="templatedb" t-attf-value="#{template_database.id}"/>
                                <button class="btn btn-primary">
                                    <t t-if="template_database.monthly_price == 0">
                                        Try Now
                                    </t>
                                    <t t-if="template_database.monthly_price > 0">
                                        $<span t-field="template_database.monthly_price"></span> / 30 days
                                    </t>                                    
                                </button>
                            </form>
                        </div>    
                    </div>
                    
                </t>
            </div>        
        
        
        </div>        
      </section>
      </div>
    </t>
</template>

<template id="vuente_saas_login" name="Vuente Saas Login">
            <t t-call="web.login_layout">

                <form class="oe_login_form" role="form" action="/vuente/saas/login/process" method="get" onsubmit="this.action = this.action + location.hash">

                    <div class="form-group field-db" t-if="databases and len(databases) &gt; 1">
                        <label for="db" class="control-label">Database</label>
                        <div class="input-group">
                            <input type="text" name="db" t-att-value="request.db" id="db" class="form-control" required="required" readonly="readonly"/>
                            <span class="input-group-btn">
                              <a href="/web/database/selector" class="btn btn-default">Select <i class="fa fa-database"/></a>
                            </span>
                        </div>
                    </div>

                    <div class="form-group field-login">
                        <label for="login" class="control-label">Email</label>
                        <input type="text" name="login" t-att-value="login" id="login" class="form-control" required="required" autofocus="autofocus"/>
                    </div>

                    <div class="form-group field-password" style="display:none;">
                        <label for="password" class="control-label">Password</label>
                        <input type="password" name="password" id="password" class="form-control" required="required" value="noidea" t-att-autofocus="'autofocus' if login else None"/>
                    </div>

                    <p class="alert alert-danger" t-if="error">
                        <t t-esc="error"/>
                    </p>
                    <p class="alert alert-success" t-if="message">
                        <t t-esc="message"/>
                    </p>

                    <input type="hidden" name="redirect" t-att-value="redirect"/>
                    <div class="clearfix oe_login_buttons">
                        <button type="submit" class="btn btn-primary">Log in</button>
                    </div>

                </form>
            </t>
</template>
  
</data>
</odoo>
