# Cleanup Annotation System

**Created:** 2025-12-19
**Purpose:** AI-to-Human delegation of code cleanup tasks

---

## Quick Start

```bash
# See what cleanup is needed (report only)
python scripts/cleanup_marker.py --audit audit_2025_12_19.json --path . --report-only

# Apply markers to code files
python scripts/cleanup_marker.py --audit audit_2025_12_19.json --path .

# Find all cleanup tasks
grep -rn "CLEANUP:" --include="*.py" .

# Find critical issues only
grep -rn "CLEANUP:RED" --include="*.py" .

# After cleanup is done, remove markers
python scripts/cleanup_marker.py --clean --path .
```

---

## Severity Levels

| Color | Search Term | Meaning | Action |
|-------|-------------|---------|--------|
| RED | `CLEANUP:RED` | Critical/Blocking | Fix immediately |
| ORANGE | `CLEANUP:ORANGE` | High Priority | Fix this sprint |
| YELLOW | `CLEANUP:YELLOW` | Medium Priority | Plan for backlog |
| GREEN | `CLEANUP:GREEN` | Low Priority | Nice to have |
| BLUE | `CLEANUP:BLUE` | Info Only | Read for context |

---

## Cleanup Types

| Type | Meaning |
|------|---------|
| `DELETE` | Remove file/block entirely |
| `COLLISION` | Name conflict to resolve |
| `DEPRECATED` | Old code to remove |
| `WRONG_TYPE` | Incorrect model/field type |
| `DEAD_CODE` | Unreachable code |
| `DRY` | Duplicated logic |
| `EXTRACT` | Should be utility |
| `CONSOLIDATE` | Merge patterns |
| `SPLIT` | File too large |
| `TODO` | Pending implementation |

---

## Current Audit Summary

**File:** `audit_2025_12_19.json`
**Score:** 6/10

| Severity | Count |
|----------|-------|
| RED | 1 |
| ORANGE | 4 |
| YELLOW | 5 |
| GREEN | 3 |
| **Total** | **13** |

**Quick Wins (25 min):**
- CLEANUP-001: Delete res_config_settings.py (5 min)
- CLEANUP-004: Fix model type (10 min)
- CLEANUP-005: Remove dead comments (10 min)

---

## Files in This System

| File | Purpose |
|------|---------|
| `cleanup_annotation_spec.md` | Full specification |
| `clean_up_module_ai_sam_base.md` | Detailed cleanup guide |
| `audit_2025_12_19.json` | Machine-readable findings |
| `scripts/cleanup_marker.py` | Annotation tool |
| `CLEANUP_SYSTEM_README.md` | This file |

---

## Developer Workflow

1. **Pull code** with cleanup markers
2. **Search by severity:** `grep -rn "CLEANUP:RED" .`
3. **Read annotation** - tells you exactly what to do
4. **Execute action** - delete, refactor, migrate
5. **Verify** - run any verification commands
6. **Remove marker** after completing
7. **Commit** with ticket reference

---

## Example Annotation

```python
# ============================================================
# [CLEANUP:RED:DELETE] ENTIRE FILE FLAGGED FOR DELETION
# ============================================================
# Reason: Class collision with settings.py
#
# Action:
#   1. DELETE this entire file
#   2. Edit __init__.py - remove import
#   3. Test module upgrade
#
# Ticket: CLEANUP-001 | Audit: 2025-12-19 | Score Impact: -1
# ============================================================
```

---

## VS Code Integration

Add to `.vscode/settings.json` for highlighting:

```json
{
  "todohighlight.keywords": [
    {"text": "CLEANUP:RED", "backgroundColor": "#FF0000", "color": "white"},
    {"text": "CLEANUP:ORANGE", "backgroundColor": "#FFA500", "color": "black"},
    {"text": "CLEANUP:YELLOW", "backgroundColor": "#FFFF00", "color": "black"},
    {"text": "CLEANUP:GREEN", "backgroundColor": "#228B22", "color": "white"}
  ]
}
```

---

*Generated by CTO Auditor Agent*
