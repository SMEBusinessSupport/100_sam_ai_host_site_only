{
  "timestamp": "2025-10-08T19:46:50.992768",
  "modules": [],
  "summary": {
    "total_errors": 3,
    "total_warnings": 38,
    "status": "FAIL",
    "modules_checked": 3
  },
  "refactoring_suggestions": [
    {
      "type": "duplicate_code",
      "file": "api_credentials.py",
      "line": 266,
      "suggestion": "Duplicate code pattern detected near line 266. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "sam_ai_chat_controller.py",
      "line": 291,
      "suggestion": "Duplicate code pattern detected near line 291. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "sam_ai_chat_controller_v2.py",
      "line": 196,
      "suggestion": "Duplicate code pattern detected near line 196. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "sam_ai_chat_controller_v2.py",
      "line": 241,
      "suggestion": "Duplicate code pattern detected near line 241. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "sam_developer_mode.py",
      "line": 166,
      "suggestion": "Duplicate code pattern detected near line 166. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "sam_developer_mode.py",
      "line": 326,
      "suggestion": "Duplicate code pattern detected near line 326. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "sam_session_controller.py",
      "line": 176,
      "suggestion": "Duplicate code pattern detected near line 176. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "sam_session_controller.py",
      "line": 206,
      "suggestion": "Duplicate code pattern detected near line 206. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "sam_session_controller.py",
      "line": 251,
      "suggestion": "Duplicate code pattern detected near line 251. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "skeleton_canvas_controller.py",
      "line": 181,
      "suggestion": "Duplicate code pattern detected near line 181. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "skeleton_canvas_controller.py",
      "line": 296,
      "suggestion": "Duplicate code pattern detected near line 296. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "skeleton_canvas_controller.py",
      "line": 426,
      "suggestion": "Duplicate code pattern detected near line 426. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "skeleton_canvas_controller.py",
      "line": 431,
      "suggestion": "Duplicate code pattern detected near line 431. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "skeleton_canvas_controller.py",
      "line": 451,
      "suggestion": "Duplicate code pattern detected near line 451. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "skeleton_canvas_controller.py",
      "line": 456,
      "suggestion": "Duplicate code pattern detected near line 456. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "skeleton_canvas_controller.py",
      "line": 466,
      "suggestion": "Duplicate code pattern detected near line 466. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "skeleton_canvas_controller.py",
      "line": 471,
      "suggestion": "Duplicate code pattern detected near line 471. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "skeleton_canvas_controller.py",
      "line": 481,
      "suggestion": "Duplicate code pattern detected near line 481. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "skeleton_canvas_controller.py",
      "line": 486,
      "suggestion": "Duplicate code pattern detected near line 486. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "ai_voice_service.py",
      "line": 181,
      "suggestion": "Duplicate code pattern detected near line 181. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "sam_user_settings.py",
      "line": 131,
      "suggestion": "Duplicate code pattern detected near line 131. Consider extracting to a helper function."
    },
    {
      "type": "duplicate_code",
      "file": "ai_memory_config.py",
      "line": 116,
      "suggestion": "Duplicate code pattern detected near line 116. Consider extracting to a helper function."
    }
  ],
  "code_smells": [
    {
      "type": "missing_type_hints",
      "file": "ai_artifact_version.py",
      "count": 3,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_automator_config.py",
      "count": 2,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_branches.py",
      "count": 8,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_conversation.py",
      "count": 9,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_message.py",
      "count": 3,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "long_function",
      "file": "ai_service_config.py",
      "function": "write",
      "lines": 149,
      "suggestion": "Consider breaking write() into smaller functions (current: 149 lines, recommend: <50 lines)"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_service_config.py",
      "count": 15,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_service_provider.py",
      "count": 7,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_token_usage.py",
      "count": 7,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "api_credentials.py",
      "count": 9,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "business_unit.py",
      "count": 4,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "canvas.py",
      "count": 28,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "canvas_pan_move.py",
      "count": 4,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "connections.py",
      "count": 2,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "documentation_manager.py",
      "count": 13,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "executions.py",
      "count": 18,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "n8n_dynamic_menus.py",
      "count": 3,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "n8n_import_wizard.py",
      "count": 3,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "n8n_menu_debug.py",
      "count": 3,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "n8n_node_category.py",
      "count": 1,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "n8n_node_types.py",
      "count": 1,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "long_function",
      "file": "n8n_simple_extractor.py",
      "function": "_generate_overlay_preview",
      "lines": 457,
      "suggestion": "Consider breaking _generate_overlay_preview() into smaller functions (current: 457 lines, recommend: <50 lines)"
    },
    {
      "type": "long_function",
      "file": "n8n_simple_extractor.py",
      "function": "_generate_new_overlay",
      "lines": 282,
      "suggestion": "Consider breaking _generate_new_overlay() into smaller functions (current: 282 lines, recommend: <50 lines)"
    },
    {
      "type": "long_function",
      "file": "n8n_simple_extractor.py",
      "function": "extract_all_nodes",
      "lines": 146,
      "suggestion": "Consider breaking extract_all_nodes() into smaller functions (current: 146 lines, recommend: <50 lines)"
    },
    {
      "type": "long_function",
      "file": "n8n_simple_extractor.py",
      "function": "_extract_node_from_file",
      "lines": 103,
      "suggestion": "Consider breaking _extract_node_from_file() into smaller functions (current: 103 lines, recommend: <50 lines)"
    },
    {
      "type": "missing_type_hints",
      "file": "n8n_simple_extractor.py",
      "count": 8,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "long_function",
      "file": "n8n_simple_nodes.py",
      "function": "_compute_node_counts",
      "lines": 113,
      "suggestion": "Consider breaking _compute_node_counts() into smaller functions (current: 113 lines, recommend: <50 lines)"
    },
    {
      "type": "missing_type_hints",
      "file": "n8n_simple_nodes.py",
      "count": 13,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "nodes.py",
      "count": 27,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "sam_knowledge_doc.py",
      "count": 10,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "sam_user_profile.py",
      "count": 10,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "workflow_templates.py",
      "count": 11,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "workflow_types.py",
      "count": 1,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "hooks.py",
      "count": 1,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "sam_ai_chat_controller.py",
      "count": 10,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "sam_ai_chat_controller_v2.py",
      "count": 8,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "sam_developer_mode.py",
      "count": 9,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "sam_session_controller.py",
      "count": 6,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "skeleton_canvas_controller.py",
      "count": 22,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_context_builder.py",
      "count": 13,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_registry_watcher.py",
      "count": 7,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "long_function",
      "file": "ai_service.py",
      "function": "send_message",
      "lines": 127,
      "suggestion": "Consider breaking send_message() into smaller functions (current: 127 lines, recommend: <50 lines)"
    },
    {
      "type": "long_function",
      "file": "ai_service.py",
      "function": "_build_system_prompt",
      "lines": 123,
      "suggestion": "Consider breaking _build_system_prompt() into smaller functions (current: 123 lines, recommend: <50 lines)"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_service.py",
      "count": 7,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "long_function",
      "file": "ai_service_v2.py",
      "function": "send_message",
      "lines": 142,
      "suggestion": "Consider breaking send_message() into smaller functions (current: 142 lines, recommend: <50 lines)"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_service_v2.py",
      "count": 9,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_voice_service.py",
      "count": 3,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "canvas_extension.py",
      "count": 1,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "poppy_landing_card.py",
      "count": 4,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "sam_brain_modes.py",
      "count": 3,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "sam_chat_session.py",
      "count": 6,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "sam_environment.py",
      "count": 5,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "long_function",
      "file": "sam_mode_context.py",
      "function": "create_default_modes",
      "lines": 116,
      "suggestion": "Consider breaking create_default_modes() into smaller functions (current: 116 lines, recommend: <50 lines)"
    },
    {
      "type": "missing_type_hints",
      "file": "sam_mode_context.py",
      "count": 5,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "sam_personality.py",
      "count": 7,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "sam_user_settings.py",
      "count": 5,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "__init__.py",
      "count": 1,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "memory_graph_controller.py",
      "count": 2,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "long_function",
      "file": "ai_conversation_import.py",
      "function": "action_validate_source",
      "lines": 141,
      "suggestion": "Consider breaking action_validate_source() into smaller functions (current: 141 lines, recommend: <50 lines)"
    },
    {
      "type": "long_function",
      "file": "ai_conversation_import.py",
      "function": "action_import_data",
      "lines": 121,
      "suggestion": "Consider breaking action_import_data() into smaller functions (current: 121 lines, recommend: <50 lines)"
    },
    {
      "type": "long_function",
      "file": "ai_conversation_import.py",
      "function": "_parse_conversations",
      "lines": 126,
      "suggestion": "Consider breaking _parse_conversations() into smaller functions (current: 126 lines, recommend: <50 lines)"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_conversation_import.py",
      "count": 9,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_document_extractor.py",
      "count": 24,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_graph_service.py",
      "count": 8,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "long_function",
      "file": "ai_memory_config.py",
      "function": "action_export_memory_backup",
      "lines": 194,
      "suggestion": "Consider breaking action_export_memory_backup() into smaller functions (current: 194 lines, recommend: <50 lines)"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_memory_config.py",
      "count": 8,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_memory_import_wizard.py",
      "count": 4,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_memory_uninstall_wizard.py",
      "count": 5,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    },
    {
      "type": "missing_type_hints",
      "file": "ai_vector_service.py",
      "count": 8,
      "suggestion": "Add type hints to improve code clarity and catch type errors"
    }
  ],
  "ai_teaching_prompts": [
    {
      "severity": "MEDIUM",
      "issue": "Code Quality Issues Detected",
      "detected_instances": 69,
      "correction_prompt": "\n**LESSON: Code Quality Best Practices**\n\nSenior developer review found 69 code quality issues in your recent code.\n\n**Common issues found:**\n- Long functions (>100 lines) - hard to maintain and test\n- Missing type hints - reduces code clarity\n- Duplicate code patterns - should be extracted to functions\n- Missing docstrings - reduces code understandability\n\n**Best Practices:**\n1. Keep functions under 50 lines when possible\n2. Add type hints: `def func(param: str) -> int:`\n3. Extract repeated code into helper functions\n4. Document all public functions with docstrings\n\n**AI SAM Environment Standards:**\n- ALL public functions MUST have docstrings\n- Use Python 3.10+ type hints\n- Follow PEP 8 style guide\n- Extract duplicated code (DRY principle)\n"
    }
  ],
  "errors": [
    "C:\\Working With AI\\ai_sam\\ai_sam_odoo\\ai_sam\\static\\src\\components\\sam_profile_settings.xml: XML parse error - not well-formed (invalid token): line 100, column 29",
    "C:\\Working With AI\\ai_sam\\ai_sam_odoo\\ai_sam_memory\\views\\ai_memory_menu.xml: Duplicate IDs found: {'action_memory_view_canvas'}",
    "Manifest: Version '1.0.3' MUST start with '18.0.' for Odoo 18"
  ],
  "warnings": [
    "sam_mode_context.py: Contains print() - consider using logger",
    "sam_ai_chat_interface.js: Contains 51 console.log() statements",
    "sam_ai_chat_interface.js:sendMessage() - Async function without try/catch",
    "sam_ai_chat_interface.js:switchMode() - Async function without try/catch",
    "sam_ai_chat_interface.js:toggleVoiceRecording() - Async function without try/catch",
    "sam_ai_chat_interface.js:transcribeRecording() - Async function without try/catch",
    "sam_ai_chat_interface.js:requestPathPermission() - Async function without try/catch",
    "sam_ai_chat_interface.js:loadCurrentPowerPrompt() - Async function without try/catch",
    "sam_ai_chat_interface.js:savePowerPrompt() - Async function without try/catch",
    "sam_ai_chat_interface.js:viewPromptHistory() - Async function without try/catch",
    "sam_ai_chat_interface.js:toggleSessionHistory() - Async function without try/catch",
    "sam_ai_chat_interface.js:clearAllSessions() - Async function without try/catch",
    "sam_ai_chat_interface.js:autoSaveSession() - Async function without try/catch",
    "sam_permission_handler.js:approveMemory() - Async function without try/catch",
    "sam_permission_handler.js:approveFilePath() - Async function without try/catch",
    "sam_config.js:loadEnvironmentConfig() - Async function without try/catch",
    "sam_logger.js: Contains 5 console.log() statements",
    "platform_loader.js: Contains 7 console.log() statements",
    "platform_loader.js:fetchPlatformConfig() - Async function without try/catch",
    "platform_loader.js:loadRendererModule() - Async function without try/catch",
    "skeleton_node_manager.js: Contains 10 console.log() statements",
    "skeleton_node_manager.js:initialize() - Async function without try/catch",
    "skeleton_node_manager.js:updateNode() - Async function without try/catch",
    "skeleton_node_manager.js:deleteNode() - Async function without try/catch",
    "skeleton_node_manager.js:_rpcCall() - Async function without try/catch",
    "poppy_ai_chat_panel.js:sendMessage() - Async function without try/catch",
    "poppy_ai_chat_panel.js:executeAction() - Async function without try/catch",
    "poppy_ai_chat_panel.js:retryLastMessage() - Async function without try/catch",
    "poppy_ai_chat_panel.js:_rpcCall() - Async function without try/catch",
    "poppy_node_renderer.js: Contains 6 console.log() statements",
    "poppy_sidebar.js: Contains 6 console.log() statements",
    "poppy_sidebar.js:function() - Async function without try/catch",
    "poppy_toolbar.js: Contains 8 console.log() statements",
    "sam_ai_chat_widget.js: Contains 23 console.log() statements",
    "sam_ai_chat_widget.js:sendMessage() - Async function without try/catch",
    "sam_ai_chat_widget.js:_rpcCall() - Async function without try/catch",
    "sam_code_mode_button.js:toggleCodeMode() - Async function without try/catch",
    "memory_graph_renderer.js: Contains 11 console.log() statements"
  ]
}